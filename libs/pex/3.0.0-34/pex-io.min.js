!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("fs")):"function"==typeof define&&define.amd?define(["fs"],e):"object"==typeof exports?exports.pexIo=e(require("fs")):n.pexIo=e(n.fs)}(window,function(n){return function(n){var e={};function r(t){if(e[t])return e[t].exports;var o=e[t]={i:t,l:!1,exports:{}};return n[t].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=n,r.c=e,r.d=function(n,e,t){r.o(n,e)||Object.defineProperty(n,e,{enumerable:!0,get:t})},r.r=function(n){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},r.t=function(n,e){if(1&e&&(n=r(n)),8&e)return n;if(4&e&&"object"==typeof n&&n&&n.__esModule)return n;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:n}),2&e&&"string"!=typeof n)for(var o in n)r.d(t,o,function(e){return n[e]}.bind(null,o));return t},r.n=function(n){var e=n&&n.__esModule?function(){return n.default}:function(){return n};return r.d(e,"a",e),e},r.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)},r.p="",r(r.s=8)}([function(n,e){n.exports=function(n){return function(e,r){return r?n(e,r):new Promise((r,t)=>{n(e,(n,e)=>{if(n)return t(n);r(e)})})}}},function(n,e,r){var t=r(4);n.exports=!!t.SkCanvas},function(n,e,r){var t=r(1),o=r(6),u=r(0);n.exports=u(function(n,e){t?function(n,e){if(!o.existsSync(n)&&e)return e(new Error("loadText error: File doesn't exist \""+n+'"'),null);var r=o.readFileSync(n,"utf8");e&&e(null,r)}(n,e):function(n,e){var r=new window.XMLHttpRequest;r.open("GET",n,!0),r.onreadystatechange=function(n){4===r.readyState&&(200===r.status?e&&e(null,r.responseText):e(new Error("loadText error: "+r.statusText),null))},r.send(null)}(n,e)})},function(n,e,r){var t=r(1),o=r(4),u=r(0);function i(n,e){var r;try{(r=o.SkCanvas.createFromImage(n)).data=function(n,e,r){for(var t=new Uint8Array(n*e*4),o=0;o<e;o++)for(var u=0;u<n;u++){var i=4*(u+o*n);t[i+0]=r[i+2],t[i+1]=r[i+1],t[i+2]=r[i+0],t[i+3]=r[i+3]}return t}(r.width,r.height,r.pixels)}catch(r){e(new Error(r+' "'+n+'"'),null)}e(null,r)}n.exports=u(function(n,e,r){t?i(n,e):function(n,e){var r=null,t=n;t.url&&(r=t.crossOrigin,t=t.url);var o=new window.Image;r&&(o.crossOrigin=r),o.onerror=function(){e(new Error("Failed to load "+t),null)},o.onload=function(){e(null,o)},o.src=t}(n,e)})},function(n,e){n.exports={}},function(n,e,r){var t=r(1),o=r(6),u=r(0);function i(n,e){try{if(!o.existsSync(n)&&e)return e(new Error("loadBinary error: File doesn\t exist"),null)}catch(n){return e(new Error("loadBinary error : "+n.toString()),null)}e(null,function(n){for(var e=new ArrayBuffer(n.length),r=new Uint8Array(e),t=0;t<n.length;++t)r[t]=n[t];return e}(o.readFileSync(n)))}n.exports=u(function(n,e){t?i(n,e):function(n,e){var r=new window.XMLHttpRequest;r.open("GET",n,!0),r.responseType="arraybuffer",r.onreadystatechange=function(n){4===r.readyState&&(200===r.status?e(null,r.response):e(new Error("loadBinary error : "+r.response),null))},r.send(null)}(n,e)})},function(e,r){e.exports=n},function(n,e,r){var t=r(2),o=r(0);n.exports=o(function(n,e){t(n,function(n,r){if(n)e(n,null);else{var t=null;try{t=JSON.parse(r)}catch(n){return e(n,null)}e(null,t)}})})},function(n,e,r){n.exports={load:r(9),loadBinary:r(5),loadImage:r(3),loadText:r(2),loadJSON:r(7)}},function(n,e,r){var t=r(3),o=r(5),u=r(2),i=r(7),l=r(0);n.exports=l(function(n,e){var r={},l={},a=!1,c=0,f=Object.keys(n),s=f.length;function d(){try{a?e(l,null):e(null,r)}catch(n){console.log(n),console.log(n.stack)}}f.forEach(function(e){function f(n,t){n?(a=!0,l[e]=n):r[e]=t,++c===s&&d()}var p=n[e];p.image?t(p.image,f):p.text?u(p.text,f):p.json?i(p.json,f):p.binary?o(p.binary,f):f(new Error("pex-io/load unknown resource type "+Object.keys(p)),null)}),0===f.length&&d()})}])});